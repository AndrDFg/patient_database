Как удалить коммит в Git
Существует несколько способов удаления коммитов в зависимости от ситуации:

1. Удаление последнего коммита (сохранение изменений)
Если вы хотите отменить последний коммит, но сохранить его изменения:

BASH


git reset --soft HEAD~1
Это “откатит” коммит, но все изменения останутся в рабочей области и индексе (staged).
------------------------------------------------------------------------------------------

2. Удаление последнего коммита (без сохранения изменений)
Если вы хотите полностью удалить последний коммит вместе с изменениями:

BASH


git reset --hard HEAD~1
⚠️ВНИМАНИЕ:Это безвозвратно удалит изменения!
-----------------------------------------------------------------------------------------

3. Удаление нескольких последних коммитов
Чтобы удалить несколько последних коммитов, укажите количество:

BASH


git reset --soft HEAD~3  # Сохраняет изменения из 3 последних коммитов
git reset --hard HEAD~3  # Удаляет 3 последних коммита и изменения
----------------------------------------------------------------------------------------

4. Удаление конкретного коммита (интерактивный rebase)
Для удаления коммита в середине истории:

BASH


git rebase -i <commit_hash>^

или

BASH


git rebase -i HEAD~5  # Показать последние 5 коммитов для редактирования
В открывшемся редакторе заменит еpickнаdrop (или просто удалите строку) для коммитов, которые нужно удалить.
---------------------------------------------------------------------------------------------------------------

5. Удаление коммита из удаленного репозитория
После удаления коммита локально, нужно выполнить:

BASH


git push --force
⚠️ПРЕДУПРЕЖДЕНИЕ:Force-push может создать проблемы для других участников проекта! Используйте более безопасный вариант:

BASH


git push --force-with-lease
---------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------
Советы:

1. Перед выполнением деструктивных операций сделайте резервную копию ветки:

BASH


git branch backup-branch
--------------------------------------------------------------------------------

2. Используйте git log для просмотра истории и хешей коммитов.

--------------------------------------------------------------------------------

3. Если вы уже опубликовали коммиты, лучше создать новый “revert” коммит с помощью:

BASH


git revert <commit_hash>
вместо переписывания истории.